<ion-view id="tab-news" view-title="潞安新闻中心">
  <ion-header-bar class="bar-light sub-header">
    <div class="row header-row">
      <ul class="slide-tab">
        <li ng-class="slideIndex == 0 ? 'current':''" ng-repeat="category in categories">
          <a href="#" ng-click="activeSlide(0)">{{category.label}}</a>
        </li>
      </ul>
    </div>
  </ion-header-bar>
  <ion-content>
    <ion-slide-box show-pager="false" on-slide-changed="slideChanged(index)" active-slide="slideIndex">
      <ion-slide>
        <ion-refresher
          pulling-text="下拉刷新..."
          on-refresh="doRefresh()">
        </ion-refresher>
        <ion-slide-box id="slides" does-continue="true"  auto-play="false" pager-click="onPagerClick" on-slide-changed="slideHasChanged($index)">
          <ion-slide ng-repeat="slide in slides">
            <div class="box blue">
              <a ng-href="#/tab/news/{{slide.id}}"><img ng-src="{{slide.large_image}}"></a>
              <p class="title">{{slide.title}}</p>
            </div>
          </ion-slide>
        </ion-slide-box>
        <ion-list id="news-list">
          <ion-item class="item item-thumbnail-left" ng-repeat="news in newsList" type="item-text-wrap" href="#/tab/news/{{news.id}}">
            <img ng-src="{{news.thumbnail}}">
            <h2>{{news.title}}</h2>
            <p>{{news.category}}</p>
          </ion-item>
        </ion-list>
        <ion-infinite-scroll ng-if="hasMore" on-infinite="loadMore()" distance="5%">
        </ion-infinite-scroll>
      </ion-slide>
      <ion-slide>
        <h2>2</h2>
      </ion-slide>
    </ion-slide-box>
  </ion-content>
</ion-view>

